{% extends "base.html" %}

{% block title %}FSLAYERS | Заказ услуги{% endblock %}

{% block content %}
<main class="main">
    <div class="main__container">
        <section class="order-section">
            <h1 class="order-section__title">Создать новый заказ</h1>
            <form class="order-form" method="POST">
                {% csrf_token %}
                {% if form.errors %}
                <div class="form-errors">
                    {{ form.errors }}
                </div>
                {% endif %}
                <div class="order-form__group">
                    <label for="id_title" class="order-form__label">Название услуги</label>
                    <input type="text" 
                           id="id_title" 
                           name="title"
                           class="order-form__input" 
                           required
                           value="{{ form.title.value|default:'' }}">
                </div>
                <div class="order-form__group">
                    <label for="id_description" class="order-form__label">Описание заказа</label>
                    <textarea id="id_description" 
                              name="description" 
                              class="order-form__textarea" 
                              required 
                              rows="6">{{ form.description.value|default:'' }}</textarea>
                </div>
                <div class="order-form__row">
                    <div class="order-form__group">
                        <label for="id_category" class="order-form__label">Категория</label>
                        <select id="id_category" 
                                name="category"
                                class="order-form__select" 
                                required>
                            <option value="" disabled selected>Выберите категорию</option>
                            {% for value, label in form.category.field.choices %}
                                {% if value %}
                                <option value="{{ value }}" {% if form.category.value == value %}selected{% endif %}>
                                    {{ label }}
                                </option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                    <div class="order-form__group">
                        <label for="id_deadline" class="order-form__label">Срок выполнения (дней)</label>
                        <input type="number" 
                               id="id_deadline" 
                               name="deadline"
                               class="order-form__input" 
                               min="1" 
                               max="365" 
                               required
                               value="{{ form.deadline.value|default:'' }}">
                    </div>
                </div>
                <div class="order-form__group">
                    <label class="order-form__label">Бюджет</label>
                    <div class="order-form__budget">
                        <input type="number" 
                               id="id_budget" 
                               name="budget"  
                               class="order-form__input" 
                               min="0" 
                               step="100" 
                               placeholder="0"
                               value="{{ form.budget.value|default:'' }}">
                        <span class="order-form__currency">₽</span>
                    </div>
                    <div class="order-form__negotiable">
                        <input type="checkbox" 
                               id="id_is_negotiable" 
                               name="is_negotiable"  
                               {% if form.is_negotiable.value %}checked{% endif %}>
                        <label for="id_is_negotiable" class="order-form__negotiable-label">
                            Бюджет обсуждается
                        </label>
                    </div>
                </div>
                <div class="order-form__actions">
                    <button type="submit" class="order-form__submit">Разместить заказ</button>
                </div>
            </form>
        </section>
    </div>
</main>
{% endblock %}